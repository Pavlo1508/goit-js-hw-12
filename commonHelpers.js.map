{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/bi_x-octagon.png","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst searchesOptions = {\n  key: '42379891-9b2b3e5f2dd038df1d72b79a3',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n\tsafesearch: true,\n\tper_page: 15,\n\tpage: 1,\n};\n\nasync function searchImages() {\n\tconst params = new URLSearchParams(searchesOptions);\n\tconst res = await axios.get(`https://pixabay.com/api/?${params}`);\n\treturn res.data;\n};\n\n\nexport {\n\tsearchesOptions,\n\tsearchImages,\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgBrZXtEcIgDIZTzp5/3URHcSPpJLpBXcVd+FPwiqQt1y+SUNv3DuUkvA+0SQQg5Jx7WOt8zsBYyudEmXsPuijg3bbtB1ipa/jQYQ+UZVmBpHjyprEvyBTGSjf52zwbssdchBxhTkI4c2vtTTJMxcwgw6RObZReXDycMSYBcTWuQX/6RqcMQpCmIOPNHbG30SKAgkjmU8AJBJ3PpQ5GOO2KCYVFGEaFa9J+EbCEDIAsc5SCTCkFPjWXlHWD2Jvw5MNP2b1HBEzN42OZvhMRwmURly1cCvfrszSlC41PxR6SKjQs3g4Qg6z9PpdBxsitIhWDXrPDcZCtWplHHQEhzY+AiOZ7IJz5qg5iWygK/wjfFwD+T18pdfXe37e0j07jTeTBPZYfWztI8097RKsAAAAASUVORK5CYII=\"","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconError from '../img/bi_x-octagon.png';\nconst lightBox = new SimpleLightbox('.gallery-link', {\n\tcaptionsData: 'alt',\n\tcaptionDelay: 250,\n});\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nloader.style.display = 'none';\nlet totalHits = 0;\n\nfunction renderGallery(images) {\n\tif (!images.hits.length) {\n\t\tgallery.innerHTML = '';\n\t\tloadMoreBtn.style.display = 'none';\n\t\tsetTimeout(() => {\n\t\t\tiziToast.show({\n\t\t\ticonUrl: iconError,\n\t\t\tmessage: 'Sorry, there are no images matching your search query. Please try again!',\n\t\t\tmessageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n\t\t\tposition: 'topRight'\n\t\t})\n\t}, 200)\n\t\t\n\t} else {\n\t\ttotalHits = images.totalHits;\n\t\tconst itemTemplate = images.hits.map(image =>\n\t\t\t`<li class=\"gallery-item\">\n\t\t\t\t<a class=\"gallery-link\" href=\"${image.largeImageURL}\" >\n\t\t\t\t\t<img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n\t\t\t\t</a>\n\t\t\t\t<div class=\"image-description\">\n\t\t\t\t\t<div class=\"decsription-item\">\n\t\t\t\t\t\t<h3>Likes</h3>\n\t\t\t\t\t\t<p> ${image.likes}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"decsription-item\">\n\t\t\t\t\t\t<h3>Views</h3>\n\t\t\t\t\t\t<p> ${image.views}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"decsription-item\">\n\t\t\t\t\t\t<h3>Comments</h3>\n\t\t\t\t\t\t<p> ${image.comments}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"decsription-item\">\n\t\t\t\t\t\t<h3>Downloads</h3>\n\t\t\t\t\t\t<p> ${image.downloads}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>`\n\t\t).join('\\n\\n');\n\n\t\tgallery.innerHTML += itemTemplate;\n\t\tlightBox.refresh();\n\t\tloadMoreBtn.style.display = 'block';\n\t}\n\tloader.style.display = 'none';\n};\n\nexport {\n\tlightBox,\n\tloader,\n\tgallery,\n\tloadMoreBtn,\n\trenderGallery,\n}","import * as pixabay from './js/pixabay-api';\nimport * as gallaryToRander from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconError from './img/bi_x-octagon.png';\nimport { all } from 'axios';\nexport const form = document.querySelector('.search-form');\nlet allHits = 0;\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const searchValue = form.elements.searchInput.value.trim();\n\tif (searchValue) {\n\t\tallHits = 0;\n\t\tgallaryToRander.gallery.innerHTML = '';\n\t\tgallaryToRander.loadMoreBtn.style.display = 'none';\n\t\tpixabay.searchesOptions.q = searchValue;\n\t\tpixabay.searchesOptions.page = 1;\n\t\tawait performImageSearch();\n\t} else {\n\t\t setTimeout(() => {\n      iziToast.show({\n        iconUrl: iconError,\n        message: 'Please enter what you want to find!',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight'\n      });\n    }, 200)\n\t}\n});\n\nasync function performImageSearch() {\n  gallaryToRander.loader.style.display = 'block';\n\ttry {\n\t\tconst images = await pixabay.searchImages();\n\t\tallHits += images.hits.length\n\t\tif (images.hits.length > 0) {\n\t\t\tgallaryToRander.renderGallery(images);\n\t\t\tif (allHits >= images.totalHits) {\n\t\t\t\tgallaryToRander.loadMoreBtn.style.visibility = 'hidden';\n\t\t\t\tiziToast.show({\n      iconUrl: iconError,\n      message: 'You have reached the end of the search results.',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#3498db',\n      position: 'topRight',\n    });\n\t\t\t} else {\n\t\t\t\tgallaryToRander.loadMoreBtn.style.visibility = 'visible';\n\t\t\t}\n    } else {\n      gallaryToRander.loadMoreBtn.style.display = 'none';\n      iziToast.show({\n        iconUrl: iconError,\n        message: 'No more images found.',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n      });\n    }\n  } catch (error) {\n    gallaryToRander.loadMoreBtn.style.display = 'none';\n    iziToast.show({\n      iconUrl: iconError,\n      message: 'You have reached the end of the search results.',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#3498db',\n      position: 'topRight',\n    });\n  } finally {\n    gallaryToRander.loader.style.display = 'none';\n  }\n\n  form.reset();\n}\n\ngallaryToRander.loadMoreBtn.addEventListener('click', async () => {\n\tgallaryToRander.loadMoreBtn.style.visibility = 'hidden';\n\tgallaryToRander.loader.style.position = 'fixed';\n\tgallaryToRander.loader.style.bottom = '0';\n\tpixabay.searchesOptions.page++;\n\tawait performImageSearch();\n\tscroll()\n});\n\nfunction scroll() {\n  const galleryItem = document.querySelector('.gallery-item');\n  const heightScroll = galleryItem.getBoundingClientRect().height * 2;\n  window.scrollBy({\n    top: heightScroll,\n    behavior: 'smooth',\n  });\n}\n\n"],"names":["searchesOptions","searchImages","params","axios","iconError","lightBox","SimpleLightbox","loader","gallery","loadMoreBtn","renderGallery","images","iziToast","itemTemplate","image","form","allHits","searchValue","gallaryToRander.gallery","gallaryToRander.loadMoreBtn","pixabay.searchesOptions","performImageSearch","gallaryToRander.loader","pixabay.searchImages","gallaryToRander.renderGallery","scroll","heightScroll"],"mappings":"owBAEA,MAAMA,EAAkB,CACtB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACd,WAAY,GACZ,SAAU,GACV,KAAM,CACP,EAEA,eAAeC,GAAe,CAC7B,MAAMC,EAAS,IAAI,gBAAgBF,CAAe,EAElD,OADY,MAAMG,EAAM,IAAI,4BAA4BD,CAAM,EAAE,GACrD,IACZ,CChBA,MAAeE,EAAA,qjBCKTC,EAAW,IAAIC,EAAe,gBAAiB,CACpD,aAAc,MACd,aAAc,GACf,CAAC,EACKC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,gBAAgB,EAC3DF,EAAO,MAAM,QAAU,OAGvB,SAASG,EAAcC,EAAQ,CAC9B,GAAI,CAACA,EAAO,KAAK,OAChBH,EAAQ,UAAY,GACpBC,EAAY,MAAM,QAAU,OAC5B,WAAW,IAAM,CAChBG,EAAS,KAAK,CACd,QAASR,EACT,QAAS,2EACT,aAAc,UACX,gBAAiB,UACpB,SAAU,UACb,CAAG,CACD,EAAE,GAAG,MAEC,CACMO,EAAO,UACnB,MAAME,EAAeF,EAAO,KAAK,IAAIG,GACpC;AAAA,oCACiCA,EAAM,aAAa;AAAA,uCAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,YAKjEA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,YAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,SAI3B,EAAI,KAAK;AAAA;AAAA,CAAM,EAEbN,EAAQ,WAAaK,EACrBR,EAAS,QAAO,EAChBI,EAAY,MAAM,QAAU,OAC5B,CACDF,EAAO,MAAM,QAAU,MACxB,CCxDO,MAAMQ,EAAO,SAAS,cAAc,cAAc,EACzD,IAAIC,EAAU,EAEdD,EAAK,iBAAiB,SAAU,MAAM,GAAK,CACzC,EAAE,eAAc,EAChB,MAAME,EAAcF,EAAK,SAAS,YAAY,MAAM,OACjDE,GACHD,EAAU,EACVE,EAAwB,UAAY,GACpCC,EAA4B,MAAM,QAAU,OAC5CC,EAAwB,EAAIH,EAC5BG,EAAwB,KAAO,EAC/B,MAAMC,EAAkB,GAEvB,WAAW,IAAM,CACdT,EAAS,KAAK,CACZ,QAASR,EACT,QAAS,sCACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAClB,CAAO,CACF,EAAE,GAAG,CAEV,CAAC,EAED,eAAeiB,GAAqB,CAClCC,EAAuB,MAAM,QAAU,QACxC,GAAI,CACH,MAAMX,EAAS,MAAMY,IACrBP,GAAWL,EAAO,KAAK,OACnBA,EAAO,KAAK,OAAS,GACxBa,EAA8Bb,CAAM,EAChCK,GAAWL,EAAO,WACrBQ,EAA4B,MAAM,WAAa,SAC/CP,EAAS,KAAK,CACZ,QAASR,EACT,QAAS,kDACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,GAEDe,EAA4B,MAAM,WAAa,YAG7CA,EAA4B,MAAM,QAAU,OAC5CP,EAAS,KAAK,CACZ,QAASR,EACT,QAAS,wBACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAClB,CAAO,EAEJ,MAAe,CACde,EAA4B,MAAM,QAAU,OAC5CP,EAAS,KAAK,CACZ,QAASR,EACT,QAAS,kDACT,aAAc,UACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,CACL,QAAY,CACRkB,EAAuB,MAAM,QAAU,MACxC,CAEDP,EAAK,MAAK,CACZ,CAEAI,EAA4B,iBAAiB,QAAS,SAAY,CACjEA,EAA4B,MAAM,WAAa,SAC/CG,EAAuB,MAAM,SAAW,QACxCA,EAAuB,MAAM,OAAS,IACtCF,EAAwB,OACxB,MAAMC,EAAkB,EACxBI,EAAQ,CACT,CAAC,EAED,SAASA,GAAS,CAEhB,MAAMC,EADc,SAAS,cAAc,eAAe,EACzB,sBAAqB,EAAG,OAAS,EAClE,OAAO,SAAS,CACd,IAAKA,EACL,SAAU,QACd,CAAG,CACH"}